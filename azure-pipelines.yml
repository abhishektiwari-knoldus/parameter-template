# #azure-pipeline.yml

# trigger: none

# pool:
#   myagent

# extends:
#   template: testing-template.yml
#   parameters:
#     testSet:
#     - job: positive_test
#       templateContext:
#         expectedHTTPResponseCode: 200
#       steps:
#       - script: echo "Run positive test" 
#     - job: negative_test
#       templateContext:
#         expectedHTTPResponseCode: 501
#       steps:
#       - script: echo "Run negative test"

# File: azure-pipelines.yml
# trigger: none
# pool:
#   myagent

# extends:
#   template: simple-param.yml
#   parameters:
#       yesNo: true # set to a non-boolean value to have the build fail


# azure-pipeline.yml

trigger: none



stages:
- stage: deploy_dev
  pool:
    myagent  
  jobs:
  - template: webapp-template.yml
    parameters:
      environment: 'dev'
      appName: 'MyWebAppDev'

- stage: deploy_staging
  pool:
    myagent
  jobs:
  - template: webapp-template.yml
    parameters:
      environment: 'staging'
      appName: 'MyWebAppStaging'

- stage: deploy_production
  pool:
    myagent
  jobs:
  - template: webapp-template.yml
    parameters:
      environment: 'production'
      appName: 'MyWebAppProd'
